# ------------------------------------------------------------------------------
# Automatically generated by the script oomph_generate_cmake_script

cmake_minimum_required(VERSION 3.16..3.20 FATAL_ERROR)
project(counter_rotating_disks C CXX Fortran)
find_package(oomphlib REQUIRED)
enable_testing()

oomph_add_executable(
  NAME counter_rotating_disks
  SOURCES ../self_starting_BDF2_timestepper.h counter_rotating_disks.cc
  LIBRARIES oomph::linearised_axisym_navier_stokes oomph::axisym_navier_stokes
            oomph::navier_stokes
  CXX_STANDARD 11)

oomph_add_executable(
  NAME counter_rotating_disks_ref
  SOURCES ../self_starting_BDF2_timestepper.h counter_rotating_disks_ref.cc
  LIBRARIES oomph::linearised_axisym_navier_stokes oomph::axisym_navier_stokes
            oomph::navier_stokes
  CXX_STANDARD 11)

# ---------------------------------- TESTING ----------------------------------

oomph_add_test(
  TEST_NAME linearised_axisym_navier_stokes.counter_rotating_disks
  TARGET_DEPENDENCIES counter_rotating_disks counter_rotating_disks_ref
  EXTRA_REQUIRES
  LABELS "linearised_axisym_navier_stokes;counter_rotating_disks")

# This test needs more than the default allotted time to complete
set_tests_properties(linearised_axisym_navier_stokes.counter_rotating_disks
                     PROPERTIES TIMEOUT 10000)

# ------------------------------------------------------------------------------
